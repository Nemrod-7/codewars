#include <stdio.h>
#include <inttypes.h>

uint32_t hosts_in_subnet(const char* netmask) {

    uint32_t maxv = 4294967294, addr[4], host = 0;
    sscanf (netmask, "%d.%d.%d.%d", &addr[0], &addr[1], &addr[2], &addr[3]);

    for (int i = 0; i < 4; i++) {
        host <<= 8;
        host |= (uint8_t) addr[i];
    }
  
    if (host == maxv) return 2;
    if (host == maxv + 1) return 1;

    return maxv - host;
}
